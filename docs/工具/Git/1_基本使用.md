# 基本使用



`git` 常用命令、基本配置等

## 1. 仓库

| 命令               | 说明                              |
|------------------| --------------------------------- |
| `git init`       | 当前目录新建一个Git代码仓库       |
| `git init 文件夹名称` | 新建一个目录，将其初始化为git仓库 |
| `git clone url`  | 下载一个项目和它的整个代码历史    |



## 2. 配置

| 命令                                  | 说明                     |
| ------------------------------------- | ------------------------ |
| `git config --list`                   | 显示当前的 git 配置      |
| `git config --global user.name 名字`  | 配置提交代码时的用户名字 |
| `git config --global user.email 邮箱` | 配置提交代码时的用户邮箱 |

- `Windows` 配置文件地址 ：`C:\Users\用户名\.gitconfig`
- `Mac` 配置文件地址 : `\Users\用户名\.gitconfig`



## 3. 提交代码

| 命令                       | 说明                       |
| -------------------------- | -------------------------- |
| `git status`               | 查看文件状态               |
| `git status [xxx]`         | 查看 xxx 文件状态          |
| `git add .`                | 将目录下所有文件放到暂存区 |
| `git add [xxx]`            | 将 xxx 文件放到暂存区      |
| `git commit -m "提交信息"` | 将暂存区提交到 本地仓库    |



**提交到远程仓库**

| 命令                          | 说明                                                         |
| ----------------------------- | ------------------------------------------------------------ |
| `git push`                    |                                                              |
| `git push origin master`      | `master` 默认分支名，根据自己需要进行修改                    |
| `git push origin master:main` | 如果远程与本地分支名称不一致，则`本地分支名称：远程分支名称` |





## 4. 查看提交记录

| 命令         | 说明                                     |
| ------------ | ---------------------------------------- |
| `git log`    | 查看版本信息(详细)但无法查看回滚前的版本 |
| `git reflog` | 查看版本信息，都会查到                   |



## 5. 回滚



| 命令                       | 说明                                                 |
| -------------------------- | ---------------------------------------------------- |
| `git reset --hard 版本号`  | 回滚到 特定 版本（影响工作区文件）                   |
| `git reset --soft 版本号`  | 回滚到 特定 版本（保留工作区文件，保留暂存区内容）   |
| `git reset --mixed 版本号` | 回滚到 特定 版本（保留工作区，丢弃暂存区内容，默认） |





## 6. 分支

| 命令                                | 说明                                   |
| ----------------------------------- | -------------------------------------- |
| `git branch 分支名称`               | 新建一个分支                           |
| `git checkout -b 分支名称`          | 新建一个分支，且切换到该分支           |
| `git switch 分支名称`               | 切换分支                               |
|                                     |                                        |
| `git branch`                        | 列出所有本地分支                       |
| `git branch -r`                     | 列出所有远程分支                       |
|                                     |                                        |
| `git merge 要合并的分支名称`        | 合并分支到当前分支                     |
|                                     |                                        |
| `git branch -d 分支名称`            | 删除分支(只能删除合并后的分支)         |
| `git branch -D 分支名称`            | 删除分支（强制删除分支，无论是否合并） |
| `git push origin --delete 分支名称` | 删除远程分支                           |





## 7. 忽略文件

**在主目录下建立 `.gitignore` 文件，遵循以下规则**

1. 注释：`#`
2. 可适用 `Linux` 通配符。
    1. `*` 代表通配符
    2. `?` 代表一个字符
    3. `[abc]` 代表可选字符范围
    4. `{string1, string2}` 代表可选的字符串等。
3. `!` 例外规则，该文件不被忽略
4. `/` 
    1. 若在前面，则表示要忽略的文件在此目录下。二级目录的文件不忽略。
    2. 若在后面，则表示忽略该文件夹、文件。



```txt
# 为注释

*.txt		忽略所有 .txt 结尾的文件

!lib.txt	但是 lib.txt 除外

/temp 		忽略当前目录下 temp 文件夹或文件，其他文件夹下的 temp 不受影响

temp/		忽略 temp 目录下所有的文件。

doc/*.txt	忽略 doc 目录下所有 .txt 结尾的文件，但是不会包含 doc/二级目录/*.txt 文件
```


